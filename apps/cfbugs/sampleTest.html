<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>ColdFusion Bug Search</title>
<script src="http://code.jquery.com/jquery-1.7.2.min.js" type="text/javascript"> </script>
<script src="http://code.jquery.com/ui/1.8.23/jquery-ui.min.js" type="text/javascript"></script>
<script src="DetailExtractor.js"> </script>
<link rel="stylesheet" type="text/css" href="search.css" />
<style>
	div  {
		border	: 1px solid black;
		margin-bottom	: 5px;
		padding	: 5px;
	}
</style>
<script>
	$.ajax({
		url			: "/shared/git/apps/cfbugs/sample.html",
		success		: parseIt,
		error		: function(jqXHR, textStatus, errorThrown){
			console.log(jqXHR);
			console.log(textStatus);
			console.log(errorThrown);
		},
		complete	: function(jqXHR, textStatus){
			console.log(textStatus);
		}
	});


function parseIt(data){
	detailsExtractor = new DetailExtractor(data);

	var $results		= $("#results");
	var $response		= $(data);
	var info			= detailsExtractor.getHeadline();
	var date			= detailsExtractor.getDate();
	var bugTitle		= detailsExtractor.getTitle();
	var bugDescription	= detailsExtractor.getDescription();
	var reportedBy		= detailsExtractor.getReportedBy();
	var status			= detailsExtractor.getStatus();
	var foundInBuild	= detailsExtractor.getFoundInBuild();
	var fixedInBuild	= detailsExtractor.getFixedInBuild();
	var votes			= detailsExtractor.getVotes();
	var comments		= detailsExtractor.getComments();

	$results.append("<div>"+info+"</div>");
	$results.append("<div>"+date+"</div>");
	$results.append("<div>"+bugTitle+"</div>");
	$results.append("<div>"+bugDescription+"</div>");
	$results.append("<div>"+reportedBy+"</div>");
	$results.append("<div>"+status+"</div>");
	$results.append("<div>"+foundInBuild+"</div>");
	$results.append("<div>"+fixedInBuild+"</div>");

	console.log(votes);
	console.log(comments);
}
	
	
</script>
</head>

<body>
<div id="results">
</div>
</body>
</html>
