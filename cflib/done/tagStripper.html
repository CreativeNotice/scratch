


	
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	
	<head>
			<title>CFLib.org &ndash; tagStripper</title>
			<meta name="description" content="CFLib is a open source collection of user defined functions written in ColdFusion." />
			<meta name="keywords" content="coldfusion,udf,user defined function,raymond camden,cold fusion" />
			<link rel="stylesheet" href="/css/reset.css" type="text/css" media="all" charset="utf-8">
			<link rel="stylesheet" href="/css/screen.css" type="text/css" media="all" charset="utf-8">
			<!--[if IE 6]><link rel="stylesheet" href="/css/ie6.css" type="text/css" /><![endif]-->
			<link rel="stylesheet" href="/css/rating.css" type="text/css" media="all">
			<script type="text/javascript" src="/js/jquery.js"></script>
			<script type="text/javascript" src="/js/application.js"></script>			
			<script type="text/javascript" src="/js/jquery.rating.js"></script>
			<script type="text/javascript" src="/js/sifr.js"></script>
			<link rel="alternate" type="application/rss+xml" title="RSS" href="/rss.cfm" />
			<link rel="shortcut icon" href="/images/favicon_cflib.ico">
	</head>

	<body>

			<div id="hd">
				<h1 id="logo" class="bgreplace"><a href="/">CFLib.org &ndash; Common Function Library Project</a></h1>
			</div>
		
		<div id="contentWrapper">	
			<div id="content" class="clear">
				<div class="submitAndRss">
					<ul>
						<li id="tsubmitudf"><a href="/submit">Submit UDF</a></li>
						<li id="trss"><a href="/rss">RSS</a></li>
					</ul>
				</div>
				<div class="leftColumn">
					
					



	



	
	
	
		
			
			
		
	
		
			
				
			
			
		
	
		
			
				
			
			
		
	
	



	
	



<h2>tagStripper(str [, action] [, tagList])</h2>
<h5 class="lastUpdated">Last updated July 2, 2008</h5>

<div class="author">
	<a href="/udfdownload/1598" class="downloadUDF">Download UDF</a>
	<h3><span>author</span></h3>
	<p>
	<img src="http://www.gravatar.com/avatar/7fa65e5f53a0ce107120367e224d2f4b?s=43&d=http%3A%2F%2Fcflib%2Eorg%2Fimages%2Fgravatarsample%2Ejpg" title="Rick Root" class="img-left gravatar" />
	<span class="name"><a href="/author/7FA65E5F53A0CE107120367E224D2F4B">Rick Root</a></span> <br/>
	<a href="/emailauthor/1598" class="email">Send Email</a> <br/>
	</p>	
</div>
<p class="description">
	<strong>Version:</strong> 2  |  <strong>Requires:</strong> ColdFusion 5 	 | <strong>Library:</strong> <a href="/library/StrLib">StrLib</a>
</p>

<script type="text/javascript">
ratingSaved = function(){
	$('#ratingMsg').html('Rating Posted!');
	$('#ratingStars').toggle();
}
$(document).ready(function() {
	$('#ratingStars').rating('/index.cfm?event=page.rate&udfid=1598', {freeze:true,cancel:true,maxvalue:5,increment:.5,curvalue:5.0,callback:ratingSaved});
});
</script>
<div id="ratingStars" class="rating">&nbsp;</div>
<div id="ratingMsg">Rated 1 time(s). Average Rating: 5.0</div>
<div class="udfDetails">	
<p>
	<strong>Description:</strong> <br/>
	tagStripper is an extension of your standard regex to strip HTML tags, but allows you to either strip all tags and optionally preserve certain tags, or strip only certain html tags.  This can come in handy for stripping &quot;dangerous&quot; HTML code from user published HTML content.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
</p>
<p>
	<strong>Return Values:</strong> <br/>
	Returns a string.						
</p>
<a name="examples"></a><p><strong>Example:</strong></p>
<div class="udfCode">
	
			<iframe id='print_frame_E3CB68843C504664A04E4F7EAAF97B42' style='display:inline;height:0px;width:0px;' frameborder='0'></iframe>
			<script type='text/javascript'>
				function toggle_view_E3CB68843C504664A04E4F7EAAF97B42() {
					var temp = document.getElementById('htmlencoded_plain_E3CB68843C504664A04E4F7EAAF97B42').style.display;
					document.getElementById('htmlencoded_plain_E3CB68843C504664A04E4F7EAAF97B42').style.display=document.getElementById('formatted_code_E3CB68843C504664A04E4F7EAAF97B42').style.display;
					document.getElementById('formatted_code_E3CB68843C504664A04E4F7EAAF97B42').style.display=temp;
					if (temp=='none') {
						document.getElementById('view_E3CB68843C504664A04E4F7EAAF97B42').innerHTML='formatted';
					} else {
						document.getElementById('view_E3CB68843C504664A04E4F7EAAF97B42').innerHTML='view plain';
					}
				}
				function copy_to_clipboard_E3CB68843C504664A04E4F7EAAF97B42() {
					var code=unescape(document.getElementById('htmlencoded_plain_E3CB68843C504664A04E4F7EAAF97B42').innerHTML).replace(/&lt;/g, '\x3C').replace(/&gt;/g, '\x3E').replace(/&amp;/g, '\x26').replace(/\x3Cbr\x3E/gi, '\r\n').replace(new RegExp('&nbsp;&nbsp;&nbsp;&nbsp;', 'gi'), '\t');
					window.clipboardData.setData('text',code);
				}
				function print_E3CB68843C504664A04E4F7EAAF97B42() {
					document.getElementById("print_frame_E3CB68843C504664A04E4F7EAAF97B42").contentWindow.document.body.innerHTML = document.getElementById('formatted_code_E3CB68843C504664A04E4F7EAAF97B42').innerHTML;
					document.getElementById("print_frame_E3CB68843C504664A04E4F7EAAF97B42").contentWindow.focus();
					document.getElementById("print_frame_E3CB68843C504664A04E4F7EAAF97B42").contentWindow.print();
				}
				function show_about_E3CB68843C504664A04E4F7EAAF97B42() {
					document.getElementById('about_E3CB68843C504664A04E4F7EAAF97B42').style.display='block';
					window.setTimeout('hide_about_E3CB68843C504664A04E4F7EAAF97B42();', 4000);
				}
				function hide_about_E3CB68843C504664A04E4F7EAAF97B42() {
					document.getElementById('about_E3CB68843C504664A04E4F7EAAF97B42').style.display='none';
				}
			</script>
			<div style='font:15px arial;width:99%;color:#FFF;background-color:#6699cc;text-decoration:none;border: 1px solid #3366cc;vertical-align: middle;'>
				
				<a href='javascript:toggle_view_E3CB68843C504664A04E4F7EAAF97B42()' style='color:#FFF;font-weight:bold;text-decoration:none;margin:0 1.5em 0 .5em;;' id='view_E3CB68843C504664A04E4F7EAAF97B42'>view plain</a>
				
				
				<a href='javascript:copy_to_clipboard_E3CB68843C504664A04E4F7EAAF97B42()' style='display:none;color:#FFF;font-weight:bold;text-decoration:none;margin:0 1.5em 0 .5em;' id='view_copy_to_clipboard_link_E3CB68843C504664A04E4F7EAAF97B42'>copy to clipboard</a>
				
				<script type='text/javascript'>if(window.clipboardData) { document.getElementById('view_copy_to_clipboard_link_E3CB68843C504664A04E4F7EAAF97B42').style.display='inline';}</script>
				
				
				<a href='javascript:print_E3CB68843C504664A04E4F7EAAF97B42()' style='color:#FFF;font-weight:bold;text-decoration:none;margin:0 1.5em 0 .5em;'>print</a>
				
				
				<a href='javascript:show_about_E3CB68843C504664A04E4F7EAAF97B42()' style='color:#FFF;font-weight:bold;text-decoration:none;margin:0 1.5em 0 .5em;'>about</a>
				<span id='about_E3CB68843C504664A04E4F7EAAF97B42' style=';display:none;font-style:italic;'><a href='http://coldfish.riaforge.org/' style='color:#FFF;font-weight:bold;text-decoration:none;margin:0 1.5em 0 .5em;;margin:0 0 0 0;' target='_blank'>ColdFISH</a> is developed by <a href='http://www.cfinsider.com/' style='color:#FFF;font-weight:bold;text-decoration:none;margin:0 1.5em 0 .5em;;margin:0 0 0 0;' target='_blank'>Jason Delmore</a>.  Source code and license information available at <a href='http://coldfish.riaforge.org/' style='color:#FFF;font-weight:bold;text-decoration:none;margin:0 1.5em 0 .5em;;margin:0 0 0 0;' target='_blank'>coldfish.riaforge.org</a>.  Version 3.1.1</span>
			</div>	
			<pre id='htmlencoded_plain_E3CB68843C504664A04E4F7EAAF97B42' style='display:none;font-family: Verdana,Helvetica,sans-serif;font-size: 12px;color:#000;margin:0 0 0 0;'>&lt;cfsavecontent variable=&quot;myString&quot;&gt;
&lt;p&gt;This is a &lt;b&gt;test&lt;/b&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.cflib.org&quot;&gt;CFLib&lt;/a&gt; rocks.&lt;/p&gt;
&lt;/cfsavecontent&gt;
&lt;!--- example to strip all tags except P and B ---&gt;
&lt;cfoutput&gt;#tagStripper(myString,'strip','p,b')#&lt;/cfoutput&gt;</pre>
		<span id='formatted_code_E3CB68843C504664A04E4F7EAAF97B42' style='font-family: Verdana,Helvetica,sans-serif;font-size: 12px;color:#000'><span style='color:#990033'>&lt;cfsavecontent&nbsp;variable=<span style='color:#0000CC'>"myString"</span>&gt;</span><br /><span style='color:#000099'>&lt;p&gt;</span>This&nbsp;is&nbsp;a&nbsp;<span style='color:#000099'>&lt;b&gt;</span>test<span style='color:#000099'>&lt;/b&gt;</span><span style='color:#000099'>&lt;/p&gt;</span><br /><span style='color:#000099'>&lt;p&gt;</span><span style='color:#000099'>&lt;a&nbsp;href=<span style='color:#0000CC'>"http://www.cflib.org"</span>&gt;</span>CFLib<span style='color:#000099'>&lt;/a&gt;</span>&nbsp;rocks.<span style='color:#000099'>&lt;/p&gt;</span><br /><span style='color:#990033'>&lt;/cfsavecontent&gt;</span><br /><span style='color:#333;background-color:#FF0'>&lt;!---&nbsp;example&nbsp;to&nbsp;strip&nbsp;all&nbsp;tags&nbsp;except&nbsp;P&nbsp;and&nbsp;B&nbsp;---&gt;</span><br /><span style='color:#990033'>&lt;cfoutput&gt;</span>#tagStripper(myString,'strip','p,b')#<span style='color:#990033'>&lt;/cfoutput&gt;</span><br /></span>
</div>	
<p><strong>Parameters:</strong></p>

<table id="paramsTable" cellpadding="0" cellspacing="0">
	<tr>
		<th>Name</th>
		<th>Description</th>
		<th>Required</th>
	</tr>
	
		<tr >
		<td>str</td>
		<td>String to manipulate.</td>
		<td>Yes</td>
		</tr>
	
		<tr class="even">
		<td>action</td>
		<td>Strip or preserve. Default is strip.</td>
		<td>No</td>
		</tr>
	
		<tr >
		<td>tagList</td>
		<td>Tags to strip or perserve.</td>
		<td>No</td>
		</tr>
	
</table>


<p><strong>Full UDF Source:</strong></p>
<div class="udfCode">	
	<code>	
	
			<iframe id='print_frame_33CE7D1A95C107579ACA605133626A0D' style='display:inline;height:0px;width:0px;' frameborder='0'></iframe>
			<script type='text/javascript'>
				function toggle_view_33CE7D1A95C107579ACA605133626A0D() {
					var temp = document.getElementById('htmlencoded_plain_33CE7D1A95C107579ACA605133626A0D').style.display;
					document.getElementById('htmlencoded_plain_33CE7D1A95C107579ACA605133626A0D').style.display=document.getElementById('formatted_code_33CE7D1A95C107579ACA605133626A0D').style.display;
					document.getElementById('formatted_code_33CE7D1A95C107579ACA605133626A0D').style.display=temp;
					if (temp=='none') {
						document.getElementById('view_33CE7D1A95C107579ACA605133626A0D').innerHTML='formatted';
					} else {
						document.getElementById('view_33CE7D1A95C107579ACA605133626A0D').innerHTML='view plain';
					}
				}
				function copy_to_clipboard_33CE7D1A95C107579ACA605133626A0D() {
					var code=unescape(document.getElementById('htmlencoded_plain_33CE7D1A95C107579ACA605133626A0D').innerHTML).replace(/&lt;/g, '\x3C').replace(/&gt;/g, '\x3E').replace(/&amp;/g, '\x26').replace(/\x3Cbr\x3E/gi, '\r\n').replace(new RegExp('&nbsp;&nbsp;&nbsp;&nbsp;', 'gi'), '\t');
					window.clipboardData.setData('text',code);
				}
				function print_33CE7D1A95C107579ACA605133626A0D() {
					document.getElementById("print_frame_33CE7D1A95C107579ACA605133626A0D").contentWindow.document.body.innerHTML = document.getElementById('formatted_code_33CE7D1A95C107579ACA605133626A0D').innerHTML;
					document.getElementById("print_frame_33CE7D1A95C107579ACA605133626A0D").contentWindow.focus();
					document.getElementById("print_frame_33CE7D1A95C107579ACA605133626A0D").contentWindow.print();
				}
				function show_about_33CE7D1A95C107579ACA605133626A0D() {
					document.getElementById('about_33CE7D1A95C107579ACA605133626A0D').style.display='block';
					window.setTimeout('hide_about_33CE7D1A95C107579ACA605133626A0D();', 4000);
				}
				function hide_about_33CE7D1A95C107579ACA605133626A0D() {
					document.getElementById('about_33CE7D1A95C107579ACA605133626A0D').style.display='none';
				}
			</script>
			<div style='font:15px arial;width:99%;color:#FFF;background-color:#6699cc;text-decoration:none;border: 1px solid #3366cc;vertical-align: middle;'>
				
				<a href='javascript:toggle_view_33CE7D1A95C107579ACA605133626A0D()' style='color:#FFF;font-weight:bold;text-decoration:none;margin:0 1.5em 0 .5em;;' id='view_33CE7D1A95C107579ACA605133626A0D'>view plain</a>
				
				
				<a href='javascript:copy_to_clipboard_33CE7D1A95C107579ACA605133626A0D()' style='display:none;color:#FFF;font-weight:bold;text-decoration:none;margin:0 1.5em 0 .5em;' id='view_copy_to_clipboard_link_33CE7D1A95C107579ACA605133626A0D'>copy to clipboard</a>
				
				<script type='text/javascript'>if(window.clipboardData) { document.getElementById('view_copy_to_clipboard_link_33CE7D1A95C107579ACA605133626A0D').style.display='inline';}</script>
				
				
				<a href='javascript:print_33CE7D1A95C107579ACA605133626A0D()' style='color:#FFF;font-weight:bold;text-decoration:none;margin:0 1.5em 0 .5em;'>print</a>
				
				
				<a href='javascript:show_about_33CE7D1A95C107579ACA605133626A0D()' style='color:#FFF;font-weight:bold;text-decoration:none;margin:0 1.5em 0 .5em;'>about</a>
				<span id='about_33CE7D1A95C107579ACA605133626A0D' style=';display:none;font-style:italic;'><a href='http://coldfish.riaforge.org/' style='color:#FFF;font-weight:bold;text-decoration:none;margin:0 1.5em 0 .5em;;margin:0 0 0 0;' target='_blank'>ColdFISH</a> is developed by <a href='http://www.cfinsider.com/' style='color:#FFF;font-weight:bold;text-decoration:none;margin:0 1.5em 0 .5em;;margin:0 0 0 0;' target='_blank'>Jason Delmore</a>.  Source code and license information available at <a href='http://coldfish.riaforge.org/' style='color:#FFF;font-weight:bold;text-decoration:none;margin:0 1.5em 0 .5em;;margin:0 0 0 0;' target='_blank'>coldfish.riaforge.org</a>.  Version 3.1.1</span>
			</div>	
			<pre id='htmlencoded_plain_33CE7D1A95C107579ACA605133626A0D' style='display:none;font-family: Verdana,Helvetica,sans-serif;font-size: 12px;color:#000;margin:0 0 0 0;'>&lt;cfscript&gt;
/**
 * Function to strip HTML tags, with options to preserve certain tags.
 * v2 by Ray Camden, fix to closing tag
 * 
 * @param str 	 String to manipulate. (Required)
 * @param action 	 Strip or preserve. Default is strip. (Optional)
 * @param tagList 	 Tags to strip or perserve. (Optional)
 * @return Returns a string. 
 * @author Rick Root (&amp;#114;&amp;#105;&amp;#99;&amp;#107;&amp;#64;&amp;#119;&amp;#101;&amp;#98;&amp;#119;&amp;#111;&amp;#114;&amp;#107;&amp;#115;&amp;#108;&amp;#108;&amp;#99;&amp;#46;&amp;#99;&amp;#111;&amp;#109;) 
 * @version 2, July 2, 2008 
 */
function tagStripper(str) {
	var i = 1;
	var action = 'strip';
	var tagList = '';
	var tag = '';
	
	if (ArrayLen(arguments) gt 1 and lcase(arguments[2]) eq 'preserve') {
		action = 'preserve';
	}
	if (ArrayLen(arguments) gt 2) tagList = arguments[3];

	if (trim(lcase(action)) eq &quot;preserve&quot;) {
		// strip only those tags in the tagList argument
		for (i=1;i lte listlen(tagList); i = i + 1) {
			tag = listGetAt(tagList,i);
			str = REReplaceNoCase(str,&quot;&lt;/?#tag#.*?&gt;&quot;,&quot;&quot;,&quot;ALL&quot;);
		}
	} else {
		// strip all, except those in the tagList argument
		// if there are exclusions, mark them with NOSTRIP
		if (tagList neq &quot;&quot;) {
			for (i=1;i lte listlen(tagList); i = i + 1) {
				tag = listGetAt(tagList,i);
				str = REReplaceNoCase(str,&quot;&lt;(/?#tag#.*?)&gt;&quot;,&quot;___TEMP___NOSTRIP___\1___TEMP___ENDNOSTRIP___&quot;,&quot;ALL&quot;);
			}
		}
		// strip all remaining tsgs.  This does NOT strip comments
		str = reReplaceNoCase(str,&quot;&lt;/{0,1}[A-Z].*?&gt;&quot;,&quot;&quot;,&quot;ALL&quot;);
		// convert unstripped back to normal
		str = replace(str,&quot;___TEMP___NOSTRIP___&quot;,&quot;&lt;&quot;,&quot;ALL&quot;);
		str = replace(str,&quot;___TEMP___ENDNOSTRIP___&quot;,&quot;&gt;&quot;,&quot;ALL&quot;);
	}
	
	return str;	
}
&lt;/cfscript&gt;</pre>
		<span id='formatted_code_33CE7D1A95C107579ACA605133626A0D' style='font-family: Verdana,Helvetica,sans-serif;font-size: 12px;color:#000'><span style='color:#990033'>&lt;cfscript&gt;</span><span style='color:#000000'><br /><span style='color:#AAA'>/**<br />&nbsp;*&nbsp;Function&nbsp;to&nbsp;strip&nbsp;HTML&nbsp;tags,&nbsp;with&nbsp;options&nbsp;to&nbsp;preserve&nbsp;certain&nbsp;tags.<br />&nbsp;*&nbsp;v2&nbsp;by&nbsp;Ray&nbsp;Camden,&nbsp;fix&nbsp;to&nbsp;closing&nbsp;tag<br />&nbsp;*&nbsp;<br />&nbsp;*&nbsp;@param&nbsp;str&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;to&nbsp;manipulate.&nbsp;(Required)<br />&nbsp;*&nbsp;@param&nbsp;action&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Strip&nbsp;or&nbsp;preserve.&nbsp;Default&nbsp;is&nbsp;strip.&nbsp;(Optional)<br />&nbsp;*&nbsp;@param&nbsp;tagList&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tags&nbsp;to&nbsp;strip&nbsp;or&nbsp;perserve.&nbsp;(Optional)<br />&nbsp;*&nbsp;@return&nbsp;Returns&nbsp;a&nbsp;string.&nbsp;<br />&nbsp;*&nbsp;@author&nbsp;Rick&nbsp;Root&nbsp;(&#114;&#105;&#99;&#107;&#64;&#119;&#101;&#98;&#119;&#111;&#114;&#107;&#115;&#108;&#108;&#99;&#46;&#99;&#111;&#109;)&nbsp;<br />&nbsp;*&nbsp;@version&nbsp;2,&nbsp;July&nbsp;2,&nbsp;2008&nbsp;<br />&nbsp;*/</span><br /><span style='color:blue;font-weight:bold'>function</span>&nbsp;tagStripper(str)&nbsp;<span style='color:#000099'>{</span><br />&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;i&nbsp;=&nbsp;1;<br />&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;action&nbsp;=&nbsp;'strip';<br />&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;tagList&nbsp;=&nbsp;'';<br />&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;tag&nbsp;=&nbsp;'';<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;<span style='color:blue;font-weight:bold'>if</span>&nbsp;(<span style='color:blue;font-weight:bold'>ArrayLen</span>(arguments)&nbsp;<span style='color:blue;font-weight:bold'>gt</span>&nbsp;1&nbsp;<span style='color:blue;font-weight:bold'>and</span>&nbsp;<span style='color:blue;font-weight:bold'>lcase</span>(arguments[2])&nbsp;<span style='color:blue;font-weight:bold'>eq</span>&nbsp;'preserve')&nbsp;<span style='color:#000099'>{</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;action&nbsp;=&nbsp;'preserve';<br />&nbsp;&nbsp;&nbsp;&nbsp;<span style='color:#000099'>}</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span style='color:blue;font-weight:bold'>if</span>&nbsp;(<span style='color:blue;font-weight:bold'>ArrayLen</span>(arguments)&nbsp;<span style='color:blue;font-weight:bold'>gt</span>&nbsp;2)&nbsp;tagList&nbsp;=&nbsp;arguments[3];<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;<span style='color:blue;font-weight:bold'>if</span>&nbsp;(<span style='color:blue;font-weight:bold'>trim</span>(<span style='color:blue;font-weight:bold'>lcase</span>(action))&nbsp;<span style='color:blue;font-weight:bold'>eq</span>&nbsp;<span style='color:#006600'>"preserve"</span>)&nbsp;<span style='color:#000099'>{</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='color:#AAA'>//&nbsp;strip&nbsp;only&nbsp;those&nbsp;tags&nbsp;in&nbsp;the&nbsp;tagList&nbsp;argument<br /></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='color:blue;font-weight:bold'>for</span>&nbsp;(i=1;i&nbsp;<span style='color:blue;font-weight:bold'>lte</span>&nbsp;<span style='color:blue;font-weight:bold'>listlen</span>(tagList);&nbsp;i&nbsp;=&nbsp;i&nbsp;+&nbsp;1)&nbsp;<span style='color:#000099'>{</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tag&nbsp;=&nbsp;<span style='color:blue;font-weight:bold'>listGetAt</span>(tagList,i);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str&nbsp;=&nbsp;<span style='color:blue;font-weight:bold'>REReplaceNoCase</span>(str,<span style='color:#006600'>"&lt;/?#tag#.*?&gt;"</span>,<span style='color:#006600'>""</span>,<span style='color:#006600'>"ALL"</span>);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='color:#000099'>}</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span style='color:#000099'>}</span>&nbsp;<span style='color:blue;font-weight:bold'>else</span>&nbsp;<span style='color:#000099'>{</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='color:#AAA'>//&nbsp;strip&nbsp;all,&nbsp;except&nbsp;those&nbsp;in&nbsp;the&nbsp;tagList&nbsp;argument<br /></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='color:#AAA'>//&nbsp;if&nbsp;there&nbsp;are&nbsp;exclusions,&nbsp;mark&nbsp;them&nbsp;with&nbsp;NOSTRIP<br /></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='color:blue;font-weight:bold'>if</span>&nbsp;(tagList&nbsp;<span style='color:blue;font-weight:bold'>neq</span>&nbsp;<span style='color:#006600'>""</span>)&nbsp;<span style='color:#000099'>{</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='color:blue;font-weight:bold'>for</span>&nbsp;(i=1;i&nbsp;<span style='color:blue;font-weight:bold'>lte</span>&nbsp;<span style='color:blue;font-weight:bold'>listlen</span>(tagList);&nbsp;i&nbsp;=&nbsp;i&nbsp;+&nbsp;1)&nbsp;<span style='color:#000099'>{</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tag&nbsp;=&nbsp;<span style='color:blue;font-weight:bold'>listGetAt</span>(tagList,i);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str&nbsp;=&nbsp;<span style='color:blue;font-weight:bold'>REReplaceNoCase</span>(str,<span style='color:#006600'>"&lt;(/?#tag#.*?)&gt;"</span>,<span style='color:#006600'>"___TEMP___NOSTRIP___\1___TEMP___ENDNOSTRIP___"</span>,<span style='color:#006600'>"ALL"</span>);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='color:#000099'>}</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='color:#000099'>}</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='color:#AAA'>//&nbsp;strip&nbsp;all&nbsp;remaining&nbsp;tsgs.&nbsp;&nbsp;This&nbsp;does&nbsp;NOT&nbsp;strip&nbsp;comments<br /></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str&nbsp;=&nbsp;<span style='color:blue;font-weight:bold'>reReplaceNoCase</span>(str,<span style='color:#006600'>"&lt;/<span style='color:#000099'>{</span>0,1<span style='color:#000099'>}</span>[A-Z].*?&gt;"</span>,<span style='color:#006600'>""</span>,<span style='color:#006600'>"ALL"</span>);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='color:#AAA'>//&nbsp;convert&nbsp;unstripped&nbsp;back&nbsp;to&nbsp;normal<br /></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str&nbsp;=&nbsp;<span style='color:blue;font-weight:bold'>replace</span>(str,<span style='color:#006600'>"___TEMP___NOSTRIP___"</span>,<span style='color:#006600'>"&lt;"</span>,<span style='color:#006600'>"ALL"</span>);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str&nbsp;=&nbsp;<span style='color:blue;font-weight:bold'>replace</span>(str,<span style='color:#006600'>"___TEMP___ENDNOSTRIP___"</span>,<span style='color:#006600'>"&gt;"</span>,<span style='color:#006600'>"ALL"</span>);<br />&nbsp;&nbsp;&nbsp;&nbsp;<span style='color:#000099'>}</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;<span style='color:blue;font-weight:bold'>return</span>&nbsp;str;&nbsp;&nbsp;&nbsp;&nbsp;<br /><span style='color:#000099'>}</span><br /></span><span style='color:#990033'>&lt;/cfscript&gt;</span><br /></span>
	</code>
</div>

<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'cflib';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

</div>

				</div>
				
				<div class="rightColumn">
					<div class="searchForm">
						<h3><span>Search CFLib.org</span></h3>
						
						<form method="post" action="/search">
							<input type="text" name="search" id="search" size="15" maxlength="255" value=""/> <input type="submit" value="Search" onclick="return ($('#search').val() != '')"> <br/>
						</form>
					</div>
					<div class="latestAdditions">
						<h3><span>Latest Additions</span></h3>
							
								<div class="person clear">
									<p>
									<img src="http://www.gravatar.com/avatar/a8eacbad81726e6df5626688e9fab1b8?s=43&d=http%3A%2F%2Fcflib%2Eorg%2Fimages%2Fgravatarsample%2Ejpg" alt="Isaac Dealey" class="img-left gravatar" />
									<span class="name">Isaac Dealey added</span> <br/>
									<a href="/udf/getRelative">getRelative</a> <br/>
									<span class="time">7 day(s) ago</span>
									</p>
								</div>							
							
								<div class="person clear">
									<p>
									<img src="http://www.gravatar.com/avatar/8e126dd4c286f1266c4fca831e12d0d0?s=43&d=http%3A%2F%2Fcflib%2Eorg%2Fimages%2Fgravatarsample%2Ejpg" alt="Stephen Withington" class="img-left gravatar" />
									<span class="name">Stephen Withington added</span> <br/>
									<a href="/udf/getVincentyDistance">getVincentyDista...</a> <br/>
									<span class="time">11 day(s) ago</span>
									</p>
								</div>							
							
								<div class="person clear">
									<p>
									<img src="http://www.gravatar.com/avatar/f647db0807314ef104861f579317fcc8?s=43&d=http%3A%2F%2Fcflib%2Eorg%2Fimages%2Fgravatarsample%2Ejpg" alt="Darwan Leonardo Sitepu" class="img-left gravatar" />
									<span class="name">Darwan Leonardo Sitepu added</span> <br/>
									<a href="/udf/splitNumber">splitNumber</a> <br/>
									<span class="time">11 day(s) ago</span>
									</p>
								</div>							
							
								<div class="person clear">
									<p>
									<img src="http://www.gravatar.com/avatar/dfeee8a4c8815bf8501015bc3e4c32e2?s=43&d=http%3A%2F%2Fcflib%2Eorg%2Fimages%2Fgravatarsample%2Ejpg" alt="Steve 'Cutter' Blades" class="img-left gravatar" />
									<span class="name">Steve 'Cutter' Blades added</span> <br/>
									<a href="/udf/LCaseStructKeys">LCaseStructKeys</a> <br/>
									<span class="time">11 day(s) ago</span>
									</p>
								</div>							
							
																			
					</div>

<div style="margin: 5px;padding-top:5px;padding-bottom:5px;">
<script type="text/javascript"><!--
google_ad_client = "pub-1736437642005360";
/* CFLib Smaller Square Right */
google_ad_slot = "7746331953";
google_ad_width = 200;
google_ad_height = 200;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>

					<div class="topRated">
						<h3><span>Top Rated</span></h3>
							
								<div class="person clear">
									<p>
									<img src="http://www.gravatar.com/avatar/f647db0807314ef104861f579317fcc8?s=43&d=http%3A%2F%2Fcflib%2Eorg%2Fimages%2Fgravatarsample%2Ejpg" alt="Darwan Leonardo Sitepu" class="img-left gravatar" />
									
									<a href="/udf/backupDatabase">backupDatabase</a> <br/>
									<span class="name">Rated 5.0, 30 time(s)</span> <br/>
									
									</p>
								</div>							
							
								<div class="person clear">
									<p>
									<img src="http://www.gravatar.com/avatar/9da5eee5418fedf9ebf898e5df002f90?s=43&d=http%3A%2F%2Fcflib%2Eorg%2Fimages%2Fgravatarsample%2Ejpg" alt="Barney Boisvert" class="img-left gravatar" />
									
									<a href="/udf/indentXml">indentXml</a> <br/>
									<span class="name">Rated 5.0, 10 time(s)</span> <br/>
									
									</p>
								</div>							
							
								<div class="person clear">
									<p>
									<img src="http://www.gravatar.com/avatar/60900081ab13ecdb04f5bf4c39802316?s=43&d=http%3A%2F%2Fcflib%2Eorg%2Fimages%2Fgravatarsample%2Ejpg" alt="Kevin Pepperman" class="img-left gravatar" />
									
									<a href="/udf/generateSsccAsn">generateSsccAsn</a> <br/>
									<span class="name">Rated 5.0, 4 time(s)</span> <br/>
									
									</p>
								</div>							
							
								<div class="person clear">
									<p>
									<img src="http://www.gravatar.com/avatar/c4da75dd6f95756886ad5218ebce9a66?s=43&d=http%3A%2F%2Fcflib%2Eorg%2Fimages%2Fgravatarsample%2Ejpg" alt="Raymond Camden" class="img-left gravatar" />
									
									<a href="/udf/highlightAndCrop">highlightAndCrop</a> <br/>
									<span class="name">Rated 5.0, 4 time(s)</span> <br/>
									
									</p>
								</div>							
							
																			
					</div>

					<div style="margin: 5px;padding-top:5px">
					













   
   




	
	

	
		
		
		
		
	

	
	<ul style="width: 80%; padding-left:5px; overflow: hidden; margin: 0; border: 1px solid #000000; border-spacing: 0px; background-color: #F0F0F0; list-style: none;">
	

	
	<li style="padding: 0; display: inline; clear: none; margin: 0; width: 100%; float: left;"><span style="font-size: 12px; margin: 0; display: block; width: 100%; padding: 3px; color: #000000;">  <a style="font-size: 12px; color: #000000;" href="http://www.broadband-finder.co.uk">Broadband Finder</a>  </span></li>
	

	
	</ul>
	




					</div>
					
				</div>
			</div>	
		</div>
		
		
		<div id="ft">
			<div class="ft_content clear">
			<p class="created">Created by <a href="http://www.coldfusionjedi.com">Raymond Camden</a> / Design by <a href="mailto:justinjohnson@system7designs.com">Justin Johnson</a></p>
			<p class="copyright">
				Copyright 2012, All Rights Reserved <br/>
				<a href="/submit">Submit A UDF</a> | <a href="/rss">RSS</a>
			</p>
			</div>
		</div>
		<script type="text/javascript">
		if(typeof sIFR == "function"){
		    sIFR.replaceElement(".leftColumn h2", named({sFlashSrc: "/swfs/futura.swf", sColor: "#4e9ad0"}));
		 	sIFR.replaceElement(".submissionAndUpdates h4", named({sFlashSrc: "/swfs/futura.swf", sColor: "#4e9ad0"}));
		};
		</script>		
	<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-70863-4");
pageTracker._initData();
pageTracker._trackPageview();
</script></body>

</html>
	



